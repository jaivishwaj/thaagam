<!DOCTYPE html>
<html>
  {% load static %}
  <head>
    <!-- Include Bootstrap CSS from a CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <link rel="stylesheet" href="{% static './main/assets/css/style.css' %}" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css"
    />

    <!-- Flatpickr CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />

    <!-- Swiper CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper/swiper-bundle.min.css"
    />
    <title>Accident Register</title>
  </head>

  <body>

    <div class="container-fluid">
      <div
        class="row justify-content-center d-flex align-items-center"
        style="height: 100vh"
      >
        <div class="col-md-7">
          <div class="card p-4 mb-2">
            <div class="card-body">
              <div class="d-flex justify-content-end">
                <a
                  href="{% url 'accident_register_dashboard' %}"
                  class="btn-close"
                  aria-label="Close"
                ></a>
              </div>
              <form action="" method="post">
                {% csrf_token %}
                <div class="row">
                  <h2 class="text-center text-muted">Accident Register</h2>

                  <div class="form-group mt-4 col-md-6">
                    <label for="uqid" class="">Unique Id</label>
                    <input
                      type=""
                      class="form-control mt-2"
                      id="uqid"
                      name="uqid"
                      placeholder="Enter Unique Id"
                      
                    />
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="date" class="">Date</label>
                    <input
                      type="date"
                      class="form-control mt-2"
                      id="date"
                      name="date"
                      placeholder="Enter date"
                      required
                    />
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="inmate_name" class="">Inmate Name</label>
                    <input
                      type="text"
                      class="form-control mt-2"
                      id="inmate_name"
                      name="inmate_name"
                      placeholder="Enter inmate name"
                      required
                    />
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="age_gender" class="">Age</label>
                    <input
                      type="number"
                      min="1"
                      max="100"
                      class="form-control mt-2"
                      id="age_gender"
                      name="age_gender"
                      placeholder="Enter age"
                      required
                    />
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="accident_condition" class=""
                      >Accident Condition</label
                    >
                    <input
                      type="text"
                      class="form-control mt-2"
                      id="accident_condition"
                      name="accident_condition"
                      placeholder="Enter accident condition"
                      required
                    />
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="accident_place" class="">Accident Place</label>
                    <input
                      type="text"
                      class="form-control mt-2"
                      id="accident_place"
                      name="accident_place"
                      placeholder="Enter accident place"
                      required
                    />
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="signature" class="">Signature of the savior (helped person)</label>
                    <input
                      type="text"
                      class="form-control mt-2"
                      id="signature"
                      name="signature"
                      placeholder="Enter signature"
                      required
                    />
                  </div>

                  <div class="row justify-content-center">
                    <div class="form-group mt-4 d-flex justify-content-center">
                      <button type="submit" class="them-btn">Submit</button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Include Bootstrap JS and jQuery from a CDN -->
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js"></script>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <!-- Flatpickr -->
      <script src="{% static 'main/assets/js/plugin.js' %}"></script>
      <!-- <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script> -->
      <!-- Choices -->
      <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>

      <!-- Include jQuery directly from Google CDN -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!--      &lt;!&ndash; Rest of your HTML &ndash;&gt;-->
<!--&lt;!&ndash;      <script>&ndash;&gt;-->
<!--&lt;!&ndash;        $(document).ready(function () {&ndash;&gt;-->
<!--&lt;!&ndash;          // Form submission and validation&ndash;&gt;-->
<!--&lt;!&ndash;          $("form").submit(function (event) {&ndash;&gt;-->
<!--&lt;!&ndash;            event.preventDefault(); // Prevent default form submission&ndash;&gt;-->
<!--&lt;!&ndash;            let valid = true;&ndash;&gt;-->

<!--&lt;!&ndash;            // Validate each input field&ndash;&gt;-->
<!--&lt;!&ndash;            $(this)&ndash;&gt;-->
<!--&lt;!&ndash;              .find("input")&ndash;&gt;-->
<!--&lt;!&ndash;              .each(function () {&ndash;&gt;-->
<!--&lt;!&ndash;                if ($(this).val().trim() === "") {&ndash;&gt;-->
<!--&lt;!&ndash;                  valid = false;&ndash;&gt;-->
<!--&lt;!&ndash;                  // Highlight or display an error message for the empty field&ndash;&gt;-->
<!--&lt;!&ndash;                  $(this).addClass("is-invalid");&ndash;&gt;-->
<!--&lt;!&ndash;                  return false; // Exit the loop early&ndash;&gt;-->
<!--&lt;!&ndash;                } else {&ndash;&gt;-->
<!--&lt;!&ndash;                  // Remove any existing validation styles&ndash;&gt;-->
<!--&lt;!&ndash;                  $(this).removeClass("is-invalid");&ndash;&gt;-->
<!--&lt;!&ndash;                }&ndash;&gt;-->
<!--&lt;!&ndash;              });&ndash;&gt;-->

<!--&lt;!&ndash;            if (valid) {&ndash;&gt;-->
<!--&lt;!&ndash;              // AJAX submission if form is valid&ndash;&gt;-->
<!--&lt;!&ndash;              $.ajax({&ndash;&gt;-->
<!--&lt;!&ndash;                type: $(this).attr("method"),&ndash;&gt;-->
<!--&lt;!&ndash;                url: $(this).attr("action"),&ndash;&gt;-->
<!--&lt;!&ndash;                data: $(this).serialize(),&ndash;&gt;-->
<!--&lt;!&ndash;                success: function (response) {&ndash;&gt;-->
<!--&lt;!&ndash;                  window.location.href =&ndash;&gt;-->
<!--&lt;!&ndash;                    "{% url 'accident_register_dashboard' %}";&ndash;&gt;-->
<!--&lt;!&ndash;                },&ndash;&gt;-->
<!--&lt;!&ndash;                error: function (error) {&ndash;&gt;-->
<!--&lt;!&ndash;                  console.error(error);&ndash;&gt;-->
<!--&lt;!&ndash;                },&ndash;&gt;-->
<!--&lt;!&ndash;              });&ndash;&gt;-->
<!--&lt;!&ndash;            }&ndash;&gt;-->
<!--&lt;!&ndash;          });&ndash;&gt;-->
<!--&lt;!&ndash;        });&ndash;&gt;-->

<!--&lt;!&ndash;        function showAlert(message) {&ndash;&gt;-->
<!--&lt;!&ndash;          alert(message);&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        // Function to check serial number availability&ndash;&gt;-->
<!--&lt;!&ndash;        function checkSerialNumber() {&ndash;&gt;-->
<!--&lt;!&ndash;        let serialNo = document.getElementById("sl_no").value;&ndash;&gt;-->

<!--&lt;!&ndash;    // AJAX request to check serial number availability&ndash;&gt;-->
<!--&lt;!&ndash;    $.ajax({&ndash;&gt;-->
<!--&lt;!&ndash;      type: "POST",&ndash;&gt;-->
<!--&lt;!&ndash;      url: "/check_serial_number/", // Update with your Django view URL&ndash;&gt;-->
<!--&lt;!&ndash;      data: { sl_no: serialNo },&ndash;&gt;-->
<!--&lt;!&ndash;      success: function (response) {&ndash;&gt;-->
<!--&lt;!&ndash;        if (response.exists) {&ndash;&gt;-->
<!--&lt;!&ndash;          // Call showAlert to display the alert&ndash;&gt;-->
<!--&lt;!&ndash;          showAlert(&ndash;&gt;-->
<!--&lt;!&ndash;            "Serial number already taken. Please enter another number."&ndash;&gt;-->
<!--&lt;!&ndash;          );&ndash;&gt;-->
<!--&lt;!&ndash;        } else {&ndash;&gt;-->
<!--&lt;!&ndash;          // Proceed with your form submission or other actions&ndash;&gt;-->
<!--&lt;!&ndash;          $("form").submit(); // For example, submit the form&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->
<!--&lt;!&ndash;      },&ndash;&gt;-->
<!--&lt;!&ndash;      error: function (error) {&ndash;&gt;-->
<!--&lt;!&ndash;        console.error(error);&ndash;&gt;-->
<!--&lt;!&ndash;      },&ndash;&gt;-->
<!--&lt;!&ndash;    });&ndash;&gt;-->
<!--&lt;!&ndash;  }&ndash;&gt;-->

<!--&lt;!&ndash;  // Event listener for form submission&ndash;&gt;-->
<!--&lt;!&ndash;  $("form").submit(function (event) {&ndash;&gt;-->
<!--&lt;!&ndash;    event.preventDefault(); // Prevent default form submission&ndash;&gt;-->
<!--&lt;!&ndash;    checkSerialNumber(); // Check serial number availability&ndash;&gt;-->
<!--&lt;!&ndash;  });&ndash;&gt;-->
<!--&lt;!&ndash;      </script>&ndash;&gt;-->
<!--    </div>-->


</body>
</html>
