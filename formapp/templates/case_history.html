<!DOCTYPE html>
<html>
  {% load static %}
  <head>
    <!-- Include Bootstrap CSS from a CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{% static './main/assets/css/style.css' %}" />
    <title>Case History Record</title>
  </head>
  <body>
 {% if user %}
        <!-- <p>Welcome, {{ user }}!</p> -->
    <div class="container-fluid">
      <div class="row justify-content-center d-flex align-items-center">
        <div class="col-md-7">
          <div class="card p-4 my-5">
            <div class="card-body">
              <div class="d-flex justify-content-end">
                <a href="{% url 'case_history_record_dashboard' %}" class="btn-close" aria-label="Close"></a>
            </div>
              <form action="" method="post" enctype="multipart/form-data">
                <h2 class="text-center text-muted">Case History Record</h2>
                {% csrf_token %}
                <div class="row">
                  <div class="form-group mt-4 col-md-6">
                      <label for="uqid" class="">UQId</label>
                      <input type="text" class="form-control mt-2"id="uqid" name="uqid" placeholder="Enter Id"  />
                  </div>
                  <div class="form-group mt-4 col-md-6">
                    <label for="photo">Photo:</label>
                    <input
                      type="file"
                      class="form-control mt-2"
                      id="photo"
                      name="photo"
                      required
                    />
                  </div>
                  <div class="form-group mt-4 col-md-6">
                    <label for="name">Name of the Person:</label>
                    <input
                      type="text"
                      class="form-control mt-2"
                      id="name"
                      name="name"
                      required
                    />
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="age">Age:</label>
                    <input
                      type="number"
                      class="form-control mt-2"
                      id="age"
                      min="0"
                      max="100"
                      name="age"
                      required
                    />
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="sex">Sex:</label>
                    <!-- <input type="number" class="form-control mt-2" id="sex" name="sex" required> -->

                    <select
                      class="form-control mt-2"
                      id="sex"
                      name="sex"
                      required
                    >
                      <option value="" selected>Select Gender</option>
                      <option value="male">Male</option>
                      <option value="female">Female</option>
                      <option value="other">Other</option>
                    </select>
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="religion">Religion:</label>
                    <!-- <input type="text" class="form-control mt-2" id="religion" name="religion"> -->
                    <select
                      class="form-control dropdown"
                      id="religion"
                      name="religion"
                    >
                      <option value="" selected="selected" disabled="disabled">
                        -- select one --
                      </option>
                      <option value="African Traditional &amp; Diasporic">
                        African Traditional &amp; Diasporic
                      </option>
                      <option value="Agnostic">Agnostic</option>
                      <option value="Atheist">Atheist</option>
                      <option value="Baha'i">Baha'i</option>
                      <option value="Buddhism">Buddhism</option>
                      <option value="Cao Dai">Cao Dai</option>
                      <option value="Chinese traditional religion">
                        Chinese traditional religion
                      </option>
                      <option value="Christianity">Christianity</option>
                      <option value="Hinduism">Hinduism</option>
                      <option value="Islam">Islam</option>
                      <option value="Jainism">Jainism</option>
                      <option value="Juche">Juche</option>
                      <option value="Judaism">Judaism</option>
                      <option value="Muslim">Muslim</option>
                      <option value="Neo-Paganism">Neo-Paganism</option>
                      <option value="Nonreligious">Nonreligious</option>
                      <option value="Rastafarianism">Rastafarianism</option>
                      <option value="Secular">Secular</option>
                      <option value="Shinto">Shinto</option>
                      <option value="Sikhism">Sikhism</option>
                      <option value="Spiritism">Spiritism</option>
                      <option value="Tenrikyo">Tenrikyo</option>
                      <option value="Unitarian-Universalism">
                        Unitarian-Universalism
                      </option>
                      <option value="Zoroastrianism">Zoroastrianism</option>
                      <option value="primal-indigenous">
                        primal-indigenous
                      </option>
                      <option value="Other">Other</option>
                    </select>
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="maritalStatus">Marital Status:</label>
                    <!-- <input type="text" class="form-control mt-2" id="maritalStatus" name="maritalStatus"> -->
                    <select
                      class="form-control mt-2"
                      id="maritalStatus"
                      name="maritalStatus"
                    >
                      <option value="" selected disabled>
                        Select Marital Status
                      </option>
                      <option value="single">Single</option>
                      <option value="married">Married</option>
                      <option value="divorced">Divorced</option>
                      <option value="widowed">Widowed</option>
                    </select>
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="identificationMark">Identification Mark:</label>
                    <input
                      type="text"
                      class="form-control mt-2"
                      id="identificationMark"
                      name="identificationMark"
                    />
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="educationBackground"
                      >Education Background:</label
                    >
                    <input
                      type="text"
                      class="form-control mt-2"
                      id="educationBackground"
                      name="educationBackground"
                    />
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="occupation">Occupation:</label>
                    <input
                      type="text"
                      class="form-control mt-2"
                      id="occupation"
                      name="occupation"
                      required
                    />
                  </div>
                  <div class="form-group mt-4 col-md-6">
                    <label for="residentContactNumber"
                      >Resident Contact Number (10 digits only):</label
                    >
                    <input
                      type="tel"
                      class="form-control mt-2"
                      id="residentContactNumber"
                      name="residentContactNumber"
                      pattern="[0-9]{10}"
                      title="Please enter a 10-digit number"
                      placeholder="Enter 10-digit number"
                      required
                    />
                  </div>

                  <div class="form-group mt-4 col-md-12">
                    <label for="address">Address:</label>
                    <textarea
                      class="form-control mt-2"
                      id="address"
                      name="address"
                      rows="4"
                      required
                    ></textarea>
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="relativeOrFriendsContact"
                      >Relative or Friends Contact Phone Number:</label
                    >
                    <input
                      type="tel"
                      class="form-control mt-2"
                      id="relativeOrFriendsContact"
                      name="relativeOrFriendsContact"
                      title="Please enter a 10-digit number"
                      pattern="[0-9]{10}"
                      placeholder="Enter 10-digit number"
                      required
                    />
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="idProofAvailable">ID Proof Available:</label>
                    <input
                      type="text"
                      class="form-control mt-2"
                      id="idProofAvailable"
                      name="idProofAvailable"

                    />
                  </div>

                  <div class="form-group mt-4 col-md-6">
                    <label for="idProofDetails">ID Proof Details:</label>
                    <input
                      type="text"
                      class="form-control mt-2"
                      id="idProofDetails"
                      name="idProofDetails"

                    />
                  </div>
                  <div class="form-group mt-4 col-md-6">
                    <label for="policeMemoAvailable"
                      >Police Memo Available:</label
                    >
                    <select
                      class="form-control mt-2"
                      id="policeMemoAvailable"
                      name="policeMemoAvailable"
                      onchange="togglePoliceStation()"
                    >
                      <option value="" selected disabled>
                        Select Police Memo Available
                      </option>
                      <option value="yes">Yes</option>
                      <option value="no">No</option>
                    </select>
                  </div>

                  <div class="form-group mt-4 col-md-12">
                    <label for="policeStationDetails"
                      >Police Station Details:</label
                    >
                    <input
                      type="text"
                      class="form-control mt-2"
                      id="policeStationDetails"
                      name="policeStationDetails"
                      disabled
                    />
                  </div>

                  <div class="form-group mt-4 d-flex justify-content-center">
                    <button type="submit" class="them-btn">Submit</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Include Bootstrap JS and jQuery from a CDN -->

    <!-- Your existing HTML code remains the same -->

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js"></script>

    <script>
      $(document).ready(function () {
        $("#residentContactNumber, #relativeOrFriendsContact").on(
          "input",
          function () {
            if ($(this).val().length > 10) {
              alert("Enter 10 digits only");
              $(this).val($(this).val().slice(0, 10)); // Truncate to first 10 characters
            }
          }
        );

        $("#policeMemoAvailable").change(function () {
          $("#policeStationDetails").prop("disabled", this.value !== "yes");
        });
      });

      function validateContactNumber() {
        const contactNumber = document.getElementById(
          "residentContactNumber"
        ).value;
        if (contactNumber.length !== 10) {
          alert("Please enter 10 digits for the contact number.");
          return false; // Prevent form submission
        }
        return true; // Allow form submission if the length is correct
      }

      // Attach an event listener to the form submission
      document
        .querySelector("form")
        .addEventListener("submit", function (event) {
          if (!validateContactNumber()) {
            event.preventDefault(); // Prevent form submission if validation fails
          }
        });
    </script>

{% else %}
        <p>User not logged in.</p>
{% endif %}
</body>
</html>
